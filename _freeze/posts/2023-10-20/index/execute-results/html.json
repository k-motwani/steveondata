{
  "hash": "53353fb1add9c954fc15264c057063b7",
  "result": {
    "markdown": "---\ntitle: \"Creating Pareto Charts in R with the qcc Package\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2023-10-20\"\ncategories: [rtip, viz]\n---\n\n\n# Introduction\n\nA Pareto chart is a type of bar chart that shows the frequency of different categories in a dataset, ordered by frequency from highest to lowest. It is often used to identify the most common problems or causes of a problem, so that resources can be focused on addressing them.\n\nTo create a Pareto chart in R, we can use the `qcc` package. The `qcc` package provides a number of functions for quality control, including the `pareto.chart()` function for creating Pareto charts.\n\n# Examples\n\n## Example 1: Creating a Pareto chart from a data frame\n\nThe following code shows how to create a Pareto chart from a data frame:\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(qcc)\n\n# Create a data frame with the product and its count\ndf <- data.frame(\n  product = c(\"Office desks\", \"Chairs\", \"Filing cabinets\", \"Bookcases\"),\n  count = c(100, 80, 70, 60)\n)\n\n# Create the Pareto chart\npareto.chart(df$count, main = \"Pareto Chart of Product Sales\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-1-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n   \nPareto chart analysis for df$count\n    Frequency Cum.Freq. Percentage Cum.Percent.\n  A 100.00000 100.00000   32.25806     32.25806\n  B  80.00000 180.00000   25.80645     58.06452\n  C  70.00000 250.00000   22.58065     80.64516\n  D  60.00000 310.00000   19.35484    100.00000\n```\n:::\n:::\n\n\nThis code will create a Pareto chart of the product sales, with the office desks bar at the top and the bookcases bar at the bottom. The cumulative percentage line is also plotted, which shows the percentage of total sales that each product accounts for.\n\n## Example 2: Creating a Pareto chart from a vector\n\nWe can also create a Pareto chart from a vector. The following code shows how to create a Pareto chart of the number of defects found in a manufacturing process:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a vector with the number of defects found in each category\ndefects <- c(10, 8, 7, 6, 5)\n\n# Create the Pareto chart\npareto.chart(defects, main = \"Pareto Chart of Defects\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n   \nPareto chart analysis for defects\n    Frequency Cum.Freq. Percentage Cum.Percent.\n  A  10.00000  10.00000   27.77778     27.77778\n  B   8.00000  18.00000   22.22222     50.00000\n  C   7.00000  25.00000   19.44444     69.44444\n  D   6.00000  31.00000   16.66667     86.11111\n  E   5.00000  36.00000   13.88889    100.00000\n```\n:::\n:::\n\n\nThis code will create a Pareto chart of the number of defects found, with the most common defect category at the top and the least common defect category at the bottom. The cumulative percentage line is also plotted, which shows the percentage of total defects that each category accounts for.\n\n## Customizing the Pareto chart\n\nWe can customize the appearance of the Pareto chart using a number of arguments to the `pareto.chart()` function. For example, we can change the title of the chart, the labels of the x- and y-axes, the colors of the bars, and the line type of the cumulative percentage line.\n\nThe following code shows how to customize the Pareto chart from the first example:\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Create a data frame with the product and its count\ndf <- data.frame(\n  product = c(\"Office desks\", \"Chairs\", \"Filing cabinets\", \"Bookcases\"),\n  count = c(100, 80, 70, 60)\n)\n\n# Create the Pareto chart\npareto.chart(\n  df$count,\n  main = \"Pareto Chart of Product Sales\",\n  xlab = \"Product\",\n  ylab = \"Count\",\n  col = heat.colors(length(df$count)),\n  lwd = 2\n)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n::: {.cell-output .cell-output-stdout}\n```\n   \nPareto chart analysis for df$count\n    Frequency Cum.Freq. Percentage Cum.Percent.\n  A 100.00000 100.00000   32.25806     32.25806\n  B  80.00000 180.00000   25.80645     58.06452\n  C  70.00000 250.00000   22.58065     80.64516\n  D  60.00000 310.00000   19.35484    100.00000\n```\n:::\n:::\n\n\nThis code will create a Pareto chart with a title of \"Pareto Chart of Product Sales\", x-axis label of \"Product\", y-axis label of \"Count\", bar colors in a heatmap palette, and a cumulative percentage line width of 2.\n\n# Conclusion\n\nThe `qcc` package provides a convenient way to create Pareto charts in R. Pareto charts can be used to identify the most common problems or causes of a problem, so that resources can be focused on addressing them.\n\n# Encouragement\n\nI encourage readers to try creating their own Pareto charts in R. You can use the examples in this blog post as a starting point. You can also find more examples and documentation for the `qcc` package on the CRAN website.\n\nHere are some ideas for Pareto charts that you could create:\n\n* Pareto chart of the most common customer complaints\n* Pareto chart of the most common causes of manufacturing defects\n* Pareto chart of the most common reasons for website bounce rates\n* Pareto chart of the most time-consuming tasks in your workflow\n\nOnce you have created a Pareto chart, you can use the insights that you gain from it to improve your processes or products.",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}