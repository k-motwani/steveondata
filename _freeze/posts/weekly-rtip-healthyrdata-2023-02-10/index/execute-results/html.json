{
  "hash": "0ec4e3bc90ae3a5e4a56c34b4368cc81",
  "result": {
    "markdown": "---\ntitle: \"Get the Current Hospital Data Set from CMS with {healthyR.data}\"\nauthor: \"Steven P. Sanderson II, MPH\"\ndate: \"2023-02-10\"\ncategories: [code, rtip, healthyrdata]\n---\n\n\n# Introduction\n\nGetting data for health care in the US can sometimes be hard. With my R package [`{healthyR.data}`](https://www.spsanderson.com/healthyR.data/) I am hoping to alleviate some of that pain.\n\nRight now the package is bring actively developed from what was a simple yet sleepy simulated administrative data set is getting supercharged into a a full blow package that will retrieve data from outside sources. One such source is [CMS](https://data.cms.gov/).\n\nAt the start, and this is going to be a long road, I have started to build some functionality around getting the current hospital data from __CMS__. Let's take a look at how it works.\n\n# Function\n\nHere is the function which has no parameters. This function will download the current and the official hospital data sets from the CMS.gov website.\n\nThe function makes use of a temporary directory and file to save and unzip the data. This will grab the current Hospital Data Files, unzip them and return a list of tibbles with each tibble named after the data file.\n\nThe function returns a list object with all of the current hospital data as a tibble. It does not save the data anywhere so if you want to save it you will have to do that manually.\n\nThis also means that you would have to store the data as a variable in order to access the data later on. It does have a given attributes and a class so that it can be piped into other functions.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncurrent_hosp_data()\n```\n:::\n\n\nNow let's see it in action.\n\n# Example\n\nWe will download the current hospital data sets and take a look.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(healthyR.data)\nlibrary(dplyr)\n\ncurrent_hospital_dataset <- current_hosp_data()\n```\n:::\n\n\nThis function downloads 70 files. Let's see which ones have been downloaded.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nnames(current_hospital_dataset)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n [1] \"ASC_Facility.csv\"                                                \n [2] \"ASC_National.csv\"                                                \n [3] \"ASC_State.csv\"                                                   \n [4] \"ASCQR_OAS_CAHPS_BY_ASC.csv\"                                      \n [5] \"ASCQR_OAS_CAHPS_NATIONAL.csv\"                                    \n [6] \"ASCQR_OAS_CAHPS_STATE.csv\"                                       \n [7] \"CJR_PY6_Quality_Reporting_July_2022_Production_File.csv\"         \n [8] \"CMS_PSI_6_decimal_file.csv\"                                      \n [9] \"Complications_and_Deaths_Hospital.csv\"                           \n[10] \"Complications_and_Deaths_National.csv\"                           \n[11] \"Complications_and_Deaths_State.csv\"                              \n[12] \"Data_Updates_January_2023.csv\"                                   \n[13] \"Footnote_Crosswalk.csv\"                                          \n[14] \"FY_2023_HAC_Reduction_Program_Hospital.csv\"                      \n[15] \"FY_2023_Hospital_Readmissions_Reduction_Program_Hospital.csv\"    \n[16] \"FY2021_Distribution_of_Net_Change_in_Base_Op_DRG_Payment_Amt.csv\"\n[17] \"FY2021_Net_Change_in_Base_Op_DRG_Payment_Amt.csv\"                \n[18] \"FY2021_Percent_Change_in_Medicare_Payments.csv\"                  \n[19] \"FY2021_Value_Based_Incentive_Payment_Amount.csv\"                 \n[20] \"HCAHPS_Hospital.csv\"                                             \n[21] \"HCAHPS_National.csv\"                                             \n[22] \"HCAHPS_State.csv\"                                                \n[23] \"Healthcare_Associated_Infections_Hospital.csv\"                   \n[24] \"Healthcare_Associated_Infections_National.csv\"                   \n[25] \"Healthcare_Associated_Infections_State.csv\"                      \n[26] \"Hospital_General_Information.csv\"                                \n[27] \"HOSPITAL_QUARTERLY_MSPB_6_DECIMALS.csv\"                          \n[28] \"hvbp_clinical_outcomes.csv\"                                      \n[29] \"hvbp_efficiency_and_cost_reduction.csv\"                          \n[30] \"hvbp_person_and_community_engagement.csv\"                        \n[31] \"hvbp_safety.csv\"                                                 \n[32] \"hvbp_tps.csv\"                                                    \n[33] \"IPFQR_QualityMeasures_Facility.csv\"                              \n[34] \"IPFQR_QualityMeasures_National.csv\"                              \n[35] \"IPFQR_QualityMeasures_State.csv\"                                 \n[36] \"Maternal_Health_Hospital.csv\"                                    \n[37] \"Maternal_Health_National.csv\"                                    \n[38] \"Maternal_Health_State.csv\"                                       \n[39] \"Measure_Dates.csv\"                                               \n[40] \"Medicare_Hospital_Spending_by_Claim.csv\"                         \n[41] \"Medicare_Hospital_Spending_Per_Patient_Hospital.csv\"             \n[42] \"Medicare_Hospital_Spending_Per_Patient_National.csv\"             \n[43] \"Medicare_Hospital_Spending_Per_Patient_State.csv\"                \n[44] \"OAS_CAHPS_Footnotes.csv\"                                         \n[45] \"OQR_OAS_CAHPS_BY_HOSPITAL.csv\"                                   \n[46] \"OQR_OAS_CAHPS_NATIONAL.csv\"                                      \n[47] \"OQR_OAS_CAHPS_STATE.csv\"                                         \n[48] \"Outpatient_Imaging_Efficiency_Hospital.csv\"                      \n[49] \"Outpatient_Imaging_Efficiency_National.csv\"                      \n[50] \"Outpatient_Imaging_Efficiency_State.csv\"                         \n[51] \"Payment_National.csv\"                                            \n[52] \"Payment_State.csv\"                                               \n[53] \"Payment_and_Value_of_Care_Hospital.csv\"                          \n[54] \"PCH_HCAHPS_HOSPITAL.csv\"                                         \n[55] \"PCH_HCAHPS_NATIONAL.csv\"                                         \n[56] \"PCH_HCAHPS_STATE.csv\"                                            \n[57] \"PCH_HEALTHCARE_ASSOCIATED_INFECTIONS_HOSPITAL.csv\"               \n[58] \"PCH_ONCOLOGY_CARE_MEASURES_HOSPITAL.csv\"                         \n[59] \"PCH_OUTCOMES_HOSPITAL.csv\"                                       \n[60] \"PCH_OUTCOMES_NATIONAL.csv\"                                       \n[61] \"Timely_and_Effective_Care_Hospital.csv\"                          \n[62] \"Timely_and_Effective_Care_National.csv\"                          \n[63] \"Timely_and_Effective_Care_State.csv\"                             \n[64] \"Unplanned_Hospital_Visits_Hospital.csv\"                          \n[65] \"Unplanned_Hospital_Visits_National.csv\"                          \n[66] \"Unplanned_Hospital_Visits_State.csv\"                             \n[67] \"VA_IPF.csv\"                                                      \n[68] \"VA_TE.csv\"                                                       \n[69] \"Value_of_Care_National.csv\"                                      \n[70] \"Veterans_Health_Administration_Provider_Level_Data.csv\"          \n```\n:::\n:::\n\n\nMore to come in the future!",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}